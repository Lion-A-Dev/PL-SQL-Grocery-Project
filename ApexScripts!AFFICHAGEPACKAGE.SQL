--AFFICHAGE AVEC PACKAGE
CREATE OR REPLACE PACKAGE ENTREPOT.AFFICHAGEAPEX AS
	PROCEDURE LISTEPRODUIT;
	PROCEDURE LISTECLIENTS;
	PROCEDURE LISTEVENTES;

END AFFICHAGEAPEX;
/

CREATE OR REPLACE PACKAGE BODY ENTREPOT.AFFICHAGEAPEX AS


PROCEDURE LISTEPRODUIT IS
	BEGIN
	   FOR LPROD IN(SELECT * FROM ENTREPOT.PRODUITS) LOOP
		   DBMS_OUTPUT.PUT_LINE
		  (RPAD(LPROD.NUMPROD, 10) ||
		   RPAD(LPROD.NOM, 10) ||
		   RPAD(LPROD.QUANTITESTOCK, 10) ||
		   LPROD.PRIX);
	   END LOOP;
	END LISTEPRODUIT;


PROCEDURE LISTECLIENTS IS
	BEGIN
		FOR LCLIENT IN (SELECT * FROM ENTREPOT.CLIENTS) LOOP
			DBMS_OUTPUT.PUT_LINE
			(RPAD(LCLIENT.NUMCLIENT, 20)  ||
			RPAD(LCLIENT.NOMCLIENT, 20)   ||
			RPAD(LCLIENT.PRENOMCLIENT, 20)||
			RPAD(LCLIENT.TELEPHONE, 15)   ||
			RPAD(LCLIENT.NORUE, 10)       ||
			RPAD(LCLIENT.NOMRUE, 20)      ||
			RPAD(LCLIENT.VILLE, 20)       ||
			RPAD(LCLIENT.PROVINCE, 20)    ||
			RPAD(LCLIENT.CODEPOSTAL, 10)  ||
			LCLIENT.PAYS);
		END LOOP;
	END LISTECLIENTS;

	
PROCEDURE LISTEVENTES AS
	BEGIN
		FOR LVENTES IN(SELECT * FROM ENTREPOT.VENTECLIENTS) LOOP
		DBMS_OUTPUT.PUT_LINE
			(RPAD(LVENTES.CODEVENTE, 15)    ||
			RPAD(LVENTES.NUMCLIENT, 20)     ||
			RPAD(LVENTES.NUMPROD, 25)       ||
			RPAD(TO_CHAR(LVENTES.DATEVENTE, 'YYYY-MM-DD'), 15)    ||
			RPAD(LVENTES.QUANTITEVENDUE, 15)||
			LVENTES.PRIXVENTE);
		END LOOP;
	END LISTEVENTES;

END AFFICHAGEAPEX;
/
@C:\ApexScripts\APEXMENU.SQL